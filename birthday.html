<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Happy Birthday Deepika</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Poppins:wght@300;400&display=swap" rel="stylesheet">

<style>
body{
    margin:0;
    height:100vh;
    background:linear-gradient(135deg,#f8cdda,#fbd3e9);
    display:flex;
    justify-content:center;
    align-items:center;
    font-family:'Poppins',sans-serif;
    overflow:hidden;
}

.card{
    background:white;
    padding:50px;
    border-radius:28px;
    max-width:520px;
    text-align:center;
    box-shadow:0 25px 50px rgba(0,0,0,0.2);
}

h1{
    font-family:'Playfair Display',serif;
    font-size:2.4rem;
    color:#b23a48;
}

p{
    font-size:1.05rem;
    line-height:1.8;
    color:#333;
}

.countdown{
    font-size:1.6rem;
    margin:20px 0;
    color:#b23a48;
    font-weight:600;
}

.rose{
    position:fixed;
    top:-40px;
    font-size:22px;
    animation:fall linear forwards;
}

@keyframes fall{
    to{
        transform:translateY(110vh) rotate(360deg);
        opacity:0;
    }
}
</style>
</head>

<body>

<!-- DEFAULT CONTENT (NEVER BLANK) -->
<div class="card" id="card">
    <h1>Almost there ‚ú®</h1>
    <p>Something special is loading‚Ä¶</p>
    <div class="countdown" id="timer">--</div>
</div>

<audio id="bgMusic" src="music.mp3" loop></audio>

<script>
/* SAFE VARIABLES */
const card = document.getElementById("card");
const timer = document.getElementById("timer");
const music = document.getElementById("bgMusic");

/* SET TARGET DATE
   (FOR TESTING: 5 minutes from now) */
const target = new Date(new Date().getTime() + 5 * 60 * 1000);

/* COUNTDOWN */
function updateTimer(){
    const now = new Date();
    const diff = target - now;

    if(diff <= 0){
        showWishes();
        return;
    }

    const m = Math.floor((diff / 1000 / 60) % 60);
    const s = Math.floor((diff / 1000) % 60);

    timer.textContent = `${m}m ${s}s`;
}

const interval = setInterval(updateTimer, 1000);
updateTimer();

/* SHOW WISHES */
function showWishes(){
    clearInterval(interval);

    card.innerHTML = `
        <h1>Happy Birthday, Deepika ‚ù§Ô∏è</h1>
        <p>
            You bring elegance, clarity, and intention<br>
            into everything you touch.
        </p>
        <p>
            Today, may the world give back<br>
            the thoughtfulness you offer.
        </p>
        <p>üåπ June 8 üåπ</p>
    `;

    // Music
    if(localStorage.getItem("playMusic") === "yes"){
        music.volume = 0.6;
        music.play().catch(()=>{});
    }

    // Roses
    setInterval(createRose, 900);
}

/* ROSES */
function createRose(){
    const r = document.createElement("div");
    r.className = "rose";
    r.textContent = "üåπ";
    r.style.left = Math.random() * 100 + "vw";
    r.style.animationDuration = (6 + Math.random() * 6) + "s";
    document.body.appendChild(r);
    setTimeout(()=>r.remove(),12000);
}
</script>

</body>
</html>
